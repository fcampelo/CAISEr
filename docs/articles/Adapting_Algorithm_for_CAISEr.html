<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Adapting Algorithms for CAISEr • CAISEr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Adapting Algorithms for CAISEr">
<meta property="og:description" content="CAISEr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CAISEr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.16</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Adapting_Algorithm_for_CAISEr.html">Adapting Algorithms for CAISEr</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/fcampelo/CAISEr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Adapting Algorithms for CAISEr</h1>
                        <h4 data-toc-skip class="author">Felipe
Campelo</h4>
            
            <h4 data-toc-skip class="date">2022-11-16</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/fcampelo/CAISEr/blob/HEAD/vignettes/Adapting_Algorithm_for_CAISEr.Rmd" class="external-link"><code>vignettes/Adapting_Algorithm_for_CAISEr.Rmd</code></a></small>
      <div class="hidden name"><code>Adapting_Algorithm_for_CAISEr.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This is a short guide to adapting existing algorithms and problem
instances for running an experiment using CAISEr. In this document, we
cover:</p>
<ul>
<li>Definition of instance lists</li>
<li>Adaptation of existing algorithms</li>
<li>Some stuff you can do with the results</li>
</ul>
<p>A general description of the CAISE methodology is available in our
papers: - F. Campelo, F. Takahashi, <em>Sample size estimation for power
and accuracy in the experimental comparison of algorithms</em>. Journal
of Heuristics 25(2):305-338, 2019.]<br>
- F. Campelo, E. Wanner, <em>Sample size calculations for the
experimental comparison of multiple algorithms on multiple problem
instances</em>. Submitted, Journal of Heuristics, 2019.</p>
</div>
<div class="section level2">
<h2 id="assembling-an-instance-list">Assembling an instance list<a class="anchor" aria-label="anchor" href="#assembling-an-instance-list"></a>
</h2>
<p>As stated in the documentation of both <code><a href="../reference/run_experiment.html">run_experiment()</a></code>
and <code><a href="../reference/calc_nreps.html">calc_nreps()</a></code>, each instance must be a named list
containing all relevant parameters that define the problem instance.
This list must contain at least the field <code>instance$FUN</code>,
with the name of the problem instance function, that is, a routine that
calculates <span class="math inline">\(y = f(x)\)</span>. If the
instance requires additional parameters, these must also be provided as
named fields. Each instance can also have an <code>alias</code>, a
unique name to distinguish it from other instances. If no alias is
provided, the name of the function (<code>instance$FUN</code>) is used
as the instance ID.</p>
<p>The <code>instances</code> parameter for
<code><a href="../reference/run_experiment.html">run_experiment()</a></code> is simply a list or vector of these
instance lists.</p>
<p>To illustrate how to adapt existing implementations to this
structure, we assume that we are interested in comparing four
multi-objective optimisation algorithms for a (hypothetical) problem
class represented by problems UF1 - UF7 (in dimensions between 10 and
40) from package <a href="https://CRAN.R-project.org/package=smoof" class="external-link">smoof</a>. For this
implementation to work with the <code>moead()</code> routine from the
<code>MOEADr</code> package (see next section) some manipulation is
necessary, but the instance list in this case is simply a list with each
element containing the name of the routine as field <code>$FUN</code>
(since all function names are different, no need for aliases).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Install if needed</span></span>
<span><span class="co"># devtools::install_github("fcampelo/MOEADr")</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/jakobbossek/smoof" class="external-link">smoof</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">MOEADr</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://fcampelo.github.io/CAISEr/" class="external-link">CAISEr</a></span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co">### Build function names (instances: UF1 - UF7, dimensions 10 - 40)</span></span>
<span><span class="va">fname</span>   <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"UF_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span></span>
<span><span class="va">dims</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">10</span><span class="op">:</span><span class="fl">40</span><span class="op">)</span></span>
<span><span class="va">allfuns</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span><span class="va">fname</span>, <span class="va">dims</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Assemble instances list</span></span>
<span><span class="va">instances</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">allfuns</span><span class="op">)</span>, mode <span class="op">=</span> <span class="st">"list"</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">instances</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">instances</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">FUN</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">allfuns</span><span class="op">[</span><span class="va">i</span>,<span class="fl">1</span><span class="op">]</span>, <span class="st">"_"</span>, <span class="va">allfuns</span><span class="op">[</span><span class="va">i</span>,<span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co">### Build the functions listed above (so that they can be properly used)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">allfuns</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/assign.html" class="external-link">assign</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">instances</span><span class="op">[[</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">FUN</span>,</span>
<span>     value <span class="op">=</span> <span class="fu">MOEADr</span><span class="fu">::</span><span class="fu">make_vectorized_smoof</span><span class="op">(</span>prob.name  <span class="op">=</span> <span class="st">"UF"</span>,</span>
<span>                    dimensions <span class="op">=</span> <span class="va">allfuns</span><span class="op">[</span><span class="va">i</span>, <span class="fl">2</span><span class="op">]</span>,</span>
<span>                    id <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">allfuns</span><span class="op">[</span><span class="va">i</span>, <span class="fl">1</span><span class="op">]</span>, <span class="st">"_"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="adaptation-of-an-existing-algorithm-implementation">Adaptation of an existing algorithm implementation<a class="anchor" aria-label="anchor" href="#adaptation-of-an-existing-algorithm-implementation"></a>
</h2>
<p>We will use the MOEA/D implementation available in the <a href="https://github.com/fcampelo/MOEADr" class="external-link">MOEADr</a> package as our base
algorithm, and assume that we are interested in comparing the
performance of four versions of this algorithm: the two versions
described in the <a href="https://ieeexplore.ieee.org/document/4358754" class="external-link">original MOEA/D
paper</a>, the one described in the <a href="https://ieeexplore.ieee.org/document/4633340" class="external-link">MOEA/D-DE paper</a>,
and a variation of the MOEA/D-DE configuration that uses PBI as the
aggregation function and calculates neighborhoods based on the space of
parameters instead of on the scalarisation weight vectors (see the
documentation of <a href="https://github.com/fcampelo/MOEADr" class="external-link">MOEADr</a>
and references therein for details of these methods) as solvers of the
hypothetical problem class represented by the available test instances.
The performance of each algorithm on each instance will be measured
according to an indicator known as <em>Inverted Generational
Distance</em> (IGD - details <a href="https://ieeexplore.ieee.org/document/1197687/" class="external-link">here</a>), for
which <em>smaller = better</em>.</p>
<p>As described in the documentation of both
<code><a href="../reference/run_experiment.html">run_experiment()</a></code> and <code><a href="../reference/calc_nreps.html">calc_nreps()</a></code>, an
<code>algorithm</code> must contain an <code>algorithm$FUN</code> field
(the name of the function that calls the algorithm) and any other
elements/parameters that <code>algorithm$FUN</code> requires (e.g., stop
criteria, operator names and parameters, etc.). An additional field,
<code>algorithm$alias</code>, can be used to provide the algorithm with
a unique identifier.</p>
<p>Supposing that the list in <code>algorithm</code> has fields
<code>algorithm$FUN = myalgo</code>, <code>algorithm$par1 = "a"</code>,
<code>algorithm$par2 = 5</code>, then the function in
<code>algorithm$FUN</code> must have the following structure:</p>
<pre><code><span><span class="va">myalgo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">par1</span>, <span class="va">par2</span>, <span class="va">instance</span>, <span class="va">...</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># do stuff</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre>
<p>That is, it must be able to run if called as:</p>
<pre><code><span><span class="co"># remove '$FUN' and '$alias' field from list of arguments</span></span>
<span><span class="co"># and include the problem definition as field 'instance'</span></span>
<span><span class="va">myargs</span>          <span class="op">&lt;-</span> <span class="va">algorithm</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">algorithm</span><span class="op">)</span> <span class="op">!=</span> <span class="st">"FUN"</span><span class="op">]</span></span>
<span><span class="va">myargs</span>          <span class="op">&lt;-</span> <span class="va">myargs</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">myargs</span><span class="op">)</span> <span class="op">!=</span> <span class="st">"alias"</span><span class="op">]</span></span>
<span><span class="va">myargs</span><span class="op">$</span><span class="va">instance</span> <span class="op">&lt;-</span> <span class="va">instance</span></span>
<span></span>
<span><span class="co"># call 'algorithm$FUN' with the arguments in 'myargs'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">algorithm</span><span class="op">$</span><span class="va">FUN</span>, args <span class="op">=</span> <span class="va">myargs</span><span class="op">)</span></span></code></pre>
<p>Finally, the <code>algorithm$FUN</code> routine must return a list
object containing (at least) the performance value of the final solution
obtained after a given run, in a field named <code>value</code> (e.g.,
<code>result$value</code>) .</p>
<p>To build the algorithm functions to be used in
<code><a href="../reference/run_experiment.html">run_experiment()</a></code>, we encapsulate (almost) all algorithm
parameters within a <code>myalgo()</code> function, which receives only
two inputs: the instance to be solved (i.e., one element from
<code>Instance.list</code>) and the specification of which version of
the algorithm is to be run.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Prepare algorithm function to be used in run_experiment():</span></span>
<span><span class="va">myalgo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">type</span>, <span class="va">instance</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># Input parameters:</span></span>
<span>  <span class="co">#     - type (variant to use: "original", "original2", "moead.de" or "moead.de2")</span></span>
<span>  <span class="co">#     - instance (instance to be solved, e.g., instance = instances[[i]])</span></span>
<span>  <span class="co"># All other parameters are set internally</span></span>
<span></span>
<span>  <span class="co">## Extract instance information to build the MOEADr problem format</span></span>
<span>  <span class="va">fdef</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">instance</span><span class="op">$</span><span class="va">FUN</span>, split <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">uffun</span> <span class="op">&lt;-</span> <span class="fu">smoof</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/smoof/man/makeUFFunction.html" class="external-link">makeUFFunction</a></span><span class="op">(</span>dimensions <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">fdef</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span>,</span>
<span>                                 id         <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">fdef</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">fattr</span>    <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">uffun</span>, <span class="st">"par.set"</span><span class="op">)</span></span>
<span>  <span class="va">prob.dim</span> <span class="op">&lt;-</span> <span class="va">fattr</span><span class="op">$</span><span class="va">pars</span><span class="op">$</span><span class="va">x</span><span class="op">$</span><span class="va">len</span></span>
<span>  </span>
<span>  <span class="co">## Build MOEADr problem list</span></span>
<span>  <span class="va">problem</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="va">instance</span><span class="op">$</span><span class="va">FUN</span>,</span>
<span>                  xmin <span class="op">=</span> <span class="va">fattr</span><span class="op">$</span><span class="va">pars</span><span class="op">$</span><span class="va">x</span><span class="op">$</span><span class="va">lower</span>,</span>
<span>                  xmax <span class="op">=</span> <span class="va">fattr</span><span class="op">$</span><span class="va">pars</span><span class="op">$</span><span class="va">x</span><span class="op">$</span><span class="va">upper</span>,</span>
<span>                  m    <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">uffun</span>, <span class="st">"n.objectives"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## Load presets for the algorithm provided in input 'type' and </span></span>
<span>  <span class="co">## modify whatever is needed for this particular experiment</span></span>
<span>  <span class="va">de2</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">type</span> <span class="op">==</span> <span class="st">"moead.de2"</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">de2</span>  <span class="op">&lt;-</span> <span class="cn">TRUE</span></span>
<span>    <span class="va">type</span> <span class="op">&lt;-</span> <span class="st">"moead.de"</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="va">algo.preset</span> <span class="op">&lt;-</span> <span class="fu">MOEADr</span><span class="fu">::</span><span class="fu">preset_moead</span><span class="op">(</span><span class="va">type</span><span class="op">)</span></span>
<span>  <span class="va">algo.preset</span><span class="op">$</span><span class="va">decomp</span><span class="op">$</span><span class="va">H</span> <span class="op">&lt;-</span> <span class="fl">99</span> <span class="co"># &lt;-- set population size</span></span>
<span>  <span class="va">algo.preset</span><span class="op">$</span><span class="va">stopcrit</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">name</span> <span class="op">&lt;-</span> <span class="st">"maxeval"</span> <span class="co"># &lt;-- type of stop criterion</span></span>
<span>  <span class="va">algo.preset</span><span class="op">$</span><span class="va">stopcrit</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">maxeval</span> <span class="op">&lt;-</span> <span class="fl">2000</span> <span class="op">*</span> <span class="va">prob.dim</span> <span class="co"># stop crit.</span></span>
<span>  <span class="va">poly.ind</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">sapply</a></span><span class="op">(</span><span class="va">algo.preset</span><span class="op">$</span><span class="va">variation</span>,</span>
<span>                           <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span><span class="va">x</span><span class="op">$</span><span class="va">name</span> <span class="op">==</span> <span class="st">"polymut"</span><span class="op">}</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">algo.preset</span><span class="op">$</span><span class="va">variation</span><span class="op">[[</span><span class="va">poly.ind</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">pm</span> <span class="op">&lt;-</span> <span class="fl">1</span> <span class="op">/</span> <span class="va">prob.dim</span> <span class="co"># &lt;--- pm = 1/d</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">de2</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">algo.preset</span><span class="op">$</span><span class="va">aggfun</span><span class="op">$</span><span class="va">name</span> <span class="op">&lt;-</span> <span class="st">"pbi"</span></span>
<span>    <span class="va">algo.preset</span><span class="op">$</span><span class="va">aggfun</span><span class="op">$</span><span class="va">theta</span> <span class="op">&lt;-</span> <span class="fl">5</span></span>
<span>    <span class="va">algo.preset</span><span class="op">$</span><span class="va">neighbors</span><span class="op">$</span><span class="va">name</span> <span class="op">=</span> <span class="st">"x"</span></span>
<span>  <span class="op">}</span></span>
<span>  </span>
<span>  <span class="co">## Run algorithm on "instance"</span></span>
<span>  <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">MOEADr</span><span class="fu">::</span><span class="fu">moead</span><span class="op">(</span>preset <span class="op">=</span> <span class="va">algo.preset</span>, problem <span class="op">=</span> <span class="va">problem</span>,</span>
<span>                       showpars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>show.iters <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## Read reference data to calculate the IGD</span></span>
<span>  <span class="va">Yref</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"./inst/extdata/pf_data/"</span>,</span>
<span>                                       <span class="va">fdef</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">fdef</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, <span class="st">".dat"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">IGD</span> <span class="op">=</span> <span class="fu">MOEADr</span><span class="fu">::</span><span class="fu">calcIGD</span><span class="op">(</span>Y <span class="op">=</span> <span class="va">out</span><span class="op">$</span><span class="va">Y</span>, Yref <span class="op">=</span> <span class="va">Yref</span><span class="op">)</span></span>
<span></span>
<span>  <span class="co">## Return IGD as field "value" in the output list</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>value <span class="op">=</span> <span class="va">IGD</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Finally, the <code>algorithms</code> parameter must be assembled as a
list of algorithm objects (each containing fields <code>$FUN</code>,
<code>$alias</code> and, in this case, <code>$type</code>).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Assemble Algorithm.list. Notice that we need to provide an alias for each </span></span>
<span><span class="co"># method, since both algorithms have the same '$FUN' argument.</span></span>
<span><span class="va">algorithms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>FUN   <span class="op">=</span> <span class="st">"myalgo"</span>, </span>
<span>                        alias <span class="op">=</span> <span class="st">"Original 1"</span>, </span>
<span>                        type  <span class="op">=</span> <span class="st">"original"</span><span class="op">)</span>,</span>
<span>                   <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>FUN   <span class="op">=</span> <span class="st">"myalgo"</span>, </span>
<span>                        alias <span class="op">=</span> <span class="st">"Original 2"</span>, </span>
<span>                        type  <span class="op">=</span> <span class="st">"original2"</span><span class="op">)</span>,</span>
<span>                   <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>FUN   <span class="op">=</span> <span class="st">"myalgo"</span>, </span>
<span>                        alias <span class="op">=</span> <span class="st">"MOEAD-DE"</span>, </span>
<span>                        type  <span class="op">=</span> <span class="st">"moead.de"</span><span class="op">)</span>,</span>
<span>                   <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>FUN   <span class="op">=</span> <span class="st">"myalgo"</span>, </span>
<span>                        alias <span class="op">=</span> <span class="st">"MOEAD-DE2"</span>, </span>
<span>                        type  <span class="op">=</span> <span class="st">"moead.de2"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="running-an-experiment-using-caiser">Running an experiment using CAISEr<a class="anchor" aria-label="anchor" href="#running-an-experiment-using-caiser"></a>
</h2>
<p>With the definitions above it is possible now to run an experiment
using the iterative sample size determination implemented in CAISEr. For
that, all we have to do is define the desired experimental parameters
and use <code><a href="../reference/run_experiment.html">run_experiment()</a></code>.</p>
<p><strong>IMPORTANT NOTICE:</strong> running this experiment takes a
while (about 4 hours in a 3.6 GHz Intel Core i7 iMac with 16Gb RAM,
using 7 cores). If you want a (much) faster example, check the
documentation of <code><a href="../reference/run_experiment.html">run_experiment()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my.results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/run_experiment.html">run_experiment</a></span><span class="op">(</span>instances  <span class="op">=</span> <span class="va">instances</span>,</span>
<span>                             algorithms <span class="op">=</span> <span class="va">algorithms</span>,</span>
<span>                             power <span class="op">=</span> <span class="fl">0.8</span>,      <span class="co"># Desired power: 80%</span></span>
<span>                             power.target <span class="op">=</span> <span class="st">"mean"</span>, <span class="co"># on average,</span></span>
<span>                             d <span class="op">=</span> <span class="fl">0.5</span>,          <span class="co"># to detect differences greater</span></span>
<span>                                               <span class="co"># than 0.5 standard deviations</span></span>
<span>                             sig.level <span class="op">=</span> <span class="fl">0.05</span>, <span class="co"># at a 95% confidence level. </span></span>
<span>                             se.max <span class="op">=</span> <span class="fl">0.05</span>,    <span class="co"># Measurement error: 5% </span></span>
<span>                             dif <span class="op">=</span> <span class="st">"perc"</span>,     <span class="co"># on the paired percent </span></span>
<span>                                               <span class="co"># differences of means,</span></span>
<span>                             method <span class="op">=</span> <span class="st">"param"</span>, <span class="co"># calculated using parametric</span></span>
<span>                                               <span class="co"># formula.</span></span>
<span>                             comparisons <span class="op">=</span> <span class="st">"all.vs.all"</span>, <span class="co"># Compare all algorithms </span></span>
<span>                                                         <span class="co"># vs all others,</span></span>
<span>                             nstart <span class="op">=</span> <span class="fl">15</span>,      <span class="co"># start with 15 runs/algo/inst</span></span>
<span>                             nmax   <span class="op">=</span> <span class="fl">200</span>,     <span class="co"># and do no more than 200 runs/inst.</span></span>
<span>                             seed   <span class="op">=</span> <span class="fl">1234</span>,    <span class="co"># PRNG seed (for reproducibility)</span></span>
<span>                             <span class="co">#</span></span>
<span>                             <span class="co"># NOTICE: Using all but 1 cores. Change if needed</span></span>
<span>                             ncpus  <span class="op">=</span> <span class="fu">parallel</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/parallel/detectCores.html" class="external-link">detectCores</a></span><span class="op">(</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p>After that we can interrogate the results and perform inference, if
we are so inclined. But first, CAISEr provides a useful plot function
for the output of <code><a href="../reference/run_experiment.html">run_experiment()</a></code>. Let’s try it (type
<code><a href="../reference/plot.CAISEr.html">?plot.CAISEr</a></code> for details):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">my.results</span><span class="op">)</span></span></code></pre></div>
<p><img src="Adapting_Algorithm_for_CAISEr_files/figure-html/unnamed-chunk-7-1.png" width="768" style="display: block; margin: auto;"></p>
<p>We can also check if all paired differences in performance are (at
least approximately) Normal, so that we can assume a Normal sampling
distribution of the means and use t-tests without much worry:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-forge.r-project.org/projects/car/" class="external-link">car</a></span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">algopairs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">my.results</span><span class="op">$</span><span class="va">data.summary</span><span class="op">$</span><span class="va">Alg1</span>, </span>
<span>                   <span class="va">my.results</span><span class="op">$</span><span class="va">data.summary</span><span class="op">$</span><span class="va">Alg2</span>,</span>
<span>                   sep <span class="op">=</span> <span class="st">" - "</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">algopairs</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="va">my.results</span><span class="op">$</span><span class="va">data.summary</span><span class="op">[</span><span class="va">algopairs</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">algopairs</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="op">]</span></span>
<span>  <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/qqPlot.html" class="external-link">qqPlot</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">$</span><span class="va">Phi</span>, </span>
<span>            pch <span class="op">=</span> <span class="fl">16</span>, las <span class="op">=</span> <span class="fl">1</span>, main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">algopairs</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>,</span>
<span>            ylab <span class="op">=</span> <span class="st">"observed"</span>, xlab <span class="op">=</span> <span class="st">"theoretical quantiles"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><img src="Adapting_Algorithm_for_CAISEr_files/figure-html/unnamed-chunk-8-1.png" width="576" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The normal QQ plots indicate some deviation from normality, with the
<code>MOEA/D-DE</code> vs. <code>MOEA/D-DE2</code> comparison having a
particularly longer left tail. We can check visually the effect of this
in the sampling distribution of the means:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">algopairs</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="va">my.results</span><span class="op">$</span><span class="va">data.summary</span><span class="op">[</span><span class="va">algopairs</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">algopairs</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="op">]</span></span>
<span>  <span class="va">boot.means</span> <span class="op">&lt;-</span> <span class="fu">CAISEr</span><span class="fu">::</span><span class="fu"><a href="../reference/boot_sdm.html">boot_sdm</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">$</span><span class="va">Phi</span>, boot.R <span class="op">=</span> <span class="fl">999</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">boot.means</span>, breaks <span class="op">=</span> <span class="fl">30</span>, main <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">algopairs</span><span class="op">)</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, las <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><img src="Adapting_Algorithm_for_CAISEr_files/figure-html/unnamed-chunk-9-1.png" width="576" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The deviations does not seem to be too severe, but are enough to
justify using a nonparametric alternative (e.g., Wilcoxon’s Rank-Sum
tests) instead of the t-test. This will sacrifice a little power for
borderline cases (i.e., comparisons where the actual effect size is
close to the value of <span class="math inline">\(d^*\)</span> used in
the design of the experiment), but give us more confidence in the
comparisons that end up being statistically significant.</p>
<p>Some other graphical analysis can be quite informative:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span>Comparison <span class="op">=</span> <span class="va">algopairs</span>, <span class="va">my.results</span><span class="op">$</span><span class="va">data.summary</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Comparison</span>, y <span class="op">=</span> <span class="va">Phi</span>, fill <span class="op">=</span> <span class="va">Comparison</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">mp</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_violin.html" class="external-link">geom_violin</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.6</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span>, scale <span class="op">=</span> <span class="st">"width"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html" class="external-link">geom_boxplot</a></span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0</span>, show.legend <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>               outlier.shape <span class="op">=</span> <span class="cn">NA</span>, width <span class="op">=</span> <span class="fl">.15</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fl">16</span>, col <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="st">"black"</span>, alpha <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>             position <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/position_jitter.html" class="external-link">position_jitter</a></span><span class="op">(</span>width <span class="op">=</span> <span class="fl">.15</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">0</span>, intercept <span class="op">=</span> <span class="fl">0</span>, col <span class="op">=</span> <span class="st">"red"</span>, lty <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ylab</a></span><span class="op">(</span><span class="st">"Percent difference in IGD"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">45</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="Adapting_Algorithm_for_CAISEr_files/figure-html/unnamed-chunk-10-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Recall first that <code>smaller = better</code> for the quality
indicator used in this experiment. Looking at the plot above shows that
the differences between all pairs of algorithms were quite high - e.g.,
differences of up to 200% in the case of the <code>Original 2</code>
versus both MOEA/D-DE versions. In general both <code>MOEA/D-DE</code>
versions seem to generate better (lower) IGD values than the
<code>Original</code> versions, and <code>MOEA/D-DE</code> seems
generally better than <code>MOEA/D-DE2</code> (first comparison to the
left. Also, the variability seem to be reasonably high for all
comparisons.</p>
<p>We can also visualise the individual estimates (with their standard
errors):</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">df</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Instance</span>, y <span class="op">=</span> <span class="va">Phi</span>, colour <span class="op">=</span> <span class="va">Comparison</span>,</span>
<span>                     ymin <span class="op">=</span> <span class="va">Phi</span> <span class="op">-</span> <span class="va">SE</span>, ymax <span class="op">=</span> <span class="va">Phi</span> <span class="op">+</span> <span class="va">SE</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_linerange.html" class="external-link">geom_pointrange</a></span><span class="op">(</span>show.legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_abline</a></span><span class="op">(</span>slope <span class="op">=</span> <span class="fl">0</span>, intercept <span class="op">=</span> <span class="fl">0</span>, col <span class="op">=</span> <span class="fl">1</span>, lty <span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html" class="external-link">facet_grid</a></span><span class="op">(</span><span class="va">Comparison</span> <span class="op">~</span> <span class="va">.</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>angle <span class="op">=</span> <span class="fl">60</span>, hjust <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span></span></code></pre></div>
<p><img src="Adapting_Algorithm_for_CAISEr_files/figure-html/unnamed-chunk-11-1.png" width="576" style="display: block; margin: auto;"></p>
<p>Notice that the standard errors of the estimators are in most cases
smaller than the marker used for the point estimate. Also notice that
the observations fall, for each comparison, mainly on one side of the
zero-line, which is an almost sure indicator that the comparisons will
be statistically significant.</p>
<p>Finally, we can examine our hypothesis tests. The
<code>summary</code> method of class <code>CAISEr</code> already outputs
the desired information:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">my.results</span>, test <span class="op">=</span> <span class="st">"wilcoxon"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## #====================================</span></span>
<span><span class="co">##  CAISEr object:</span></span>
<span><span class="co">##  Number of instances sampled: 46</span></span>
<span><span class="co">##  Number of instances required: 46</span></span>
<span><span class="co">##  Adequate power: TRUE</span></span>
<span><span class="co">##  Total runs of Original 1 : 1281</span></span>
<span><span class="co">##  Total runs of Original 2 : 1472</span></span>
<span><span class="co">##  Total runs of MOEAD-DE : 2020</span></span>
<span><span class="co">##  Total runs of MOEAD-DE2 : 3317</span></span>
<span><span class="co">## #====================================</span></span>
<span><span class="co">##  Pairwise comparisons of interest:</span></span>
<span><span class="co">##  Test: wilcoxon</span></span>
<span><span class="co">##  H1: two.sided</span></span>
<span><span class="co">##  Comparisons: all.vs.all</span></span>
<span><span class="co">##  Alpha (FWER): 0.05</span></span>
<span><span class="co">##  Power target: mean</span></span>
<span><span class="co">##  Desired power: 0.8</span></span>
<span><span class="co">## #====================================</span></span>
<span><span class="co">## Tests using Holm's step-down procedure:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  Test 1 : Original 1 x Original 2</span></span>
<span><span class="co">##  H0: median = 0</span></span>
<span><span class="co">##  alpha       = 0.008333 </span></span>
<span><span class="co">##  p-value = 2.842e-14</span></span>
<span><span class="co">##  Est. median = -0.4038</span></span>
<span><span class="co">##  CI{1-alpha} = [ -0.5658 -0.2688 ]</span></span>
<span><span class="co">##  d       = -1.310538</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  Test 2 : MOEAD-DE x MOEAD-DE2</span></span>
<span><span class="co">##  H0: median = 0</span></span>
<span><span class="co">##  alpha       = 0.01 </span></span>
<span><span class="co">##  p-value = 8.527e-14</span></span>
<span><span class="co">##  Est. median = -0.1487</span></span>
<span><span class="co">##  CI{1-alpha} = [ -0.2879 -0.111 ]</span></span>
<span><span class="co">##  d       = -0.9829994</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  Test 3 : Original 2 x MOEAD-DE</span></span>
<span><span class="co">##  H0: median = 0</span></span>
<span><span class="co">##  alpha       = 0.0125 </span></span>
<span><span class="co">##  p-value = 4.791e-10</span></span>
<span><span class="co">##  Est. median = 1.033</span></span>
<span><span class="co">##  CI{1-alpha} = [ 0.7269 1.47 ]</span></span>
<span><span class="co">##  d       = 1.270841</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  Test 4 : Original 1 x MOEAD-DE</span></span>
<span><span class="co">##  H0: median = 0</span></span>
<span><span class="co">##  alpha       = 0.01667 </span></span>
<span><span class="co">##  p-value = 9.02e-06</span></span>
<span><span class="co">##  Est. median = 0.5934</span></span>
<span><span class="co">##  CI{1-alpha} = [ 0.2504 0.8769 ]</span></span>
<span><span class="co">##  d       = 0.7954248</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  Test 5 : Original 2 x MOEAD-DE2</span></span>
<span><span class="co">##  H0: median = 0</span></span>
<span><span class="co">##  alpha       = 0.025 </span></span>
<span><span class="co">##  p-value = 1.396e-05</span></span>
<span><span class="co">##  Est. median = 0.7765</span></span>
<span><span class="co">##  CI{1-alpha} = [ 0.5863 1.194 ]</span></span>
<span><span class="co">##  d       = 0.9214111</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##  Test 6 : Original 1 x MOEAD-DE2</span></span>
<span><span class="co">##  H0: median = 0</span></span>
<span><span class="co">##  alpha       = 0.05 </span></span>
<span><span class="co">##  p-value = 0.01257</span></span>
<span><span class="co">##  Est. median = 0.4054</span></span>
<span><span class="co">##  CI{1-alpha} = [ 0.1109 0.6285 ]</span></span>
<span><span class="co">##  d       = 0.4501527</span></span>
<span><span class="co">## #====================================</span></span></code></pre>
<p>All differences were found to be different at the <span class="math inline">\(95\%\)</span> joint significance level.</p>
<p>Finally, the full data of the experiment is contained in other fields
of the output list <code>my.results</code>, and the user is encouraged
to explore these. It is possible, for instance, to can generate box
plots and confidence intervals on the mean performance of each algorithm
on each sampled instance, which can inspire new questions for the
researcher.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Felipe Campelo.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
