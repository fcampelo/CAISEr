<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Run a full experiment for comparing multiple algorithms using multiple
instances — run_experiment • CAISEr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Run a full experiment for comparing multiple algorithms using multiple
instances — run_experiment"><meta property="og:description" content="Design and run a full experiment - calculate the required number of
instances, run the algorithms on each problem instance using the iterative
approach based on optimal sample size ratios, and return the results of the
experiment. This routine builds upon calc_instances() and calc_nreps(),
so refer to the documentation of these two functions for details."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CAISEr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.16</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Adapting_Algorithm_for_CAISEr.html">Adapting Algorithms for CAISEr</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/fcampelo/CAISEr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run a full experiment for comparing multiple algorithms using multiple
instances</h1>
    <small class="dont-index">Source: <a href="https://github.com/fcampelo/CAISEr/blob/HEAD/R/run_experiment.R" class="external-link"><code>R/run_experiment.R</code></a></small>
    <div class="hidden name"><code>run_experiment.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Design and run a full experiment - calculate the required number of
instances, run the algorithms on each problem instance using the iterative
approach based on optimal sample size ratios, and return the results of the
experiment. This routine builds upon <code><a href="calc_instances.html">calc_instances()</a></code> and <code><a href="calc_nreps.html">calc_nreps()</a></code>,
so refer to the documentation of these two functions for details.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_experiment</span><span class="op">(</span></span>
<span>  <span class="va">instances</span>,</span>
<span>  <span class="va">algorithms</span>,</span>
<span>  <span class="va">d</span>,</span>
<span>  <span class="va">se.max</span>,</span>
<span>  power <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  sig.level <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  power.target <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  dif <span class="op">=</span> <span class="st">"simple"</span>,</span>
<span>  comparisons <span class="op">=</span> <span class="st">"all.vs.all"</span>,</span>
<span>  alternative <span class="op">=</span> <span class="st">"two.sided"</span>,</span>
<span>  test <span class="op">=</span> <span class="st">"t.test"</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"param"</span>,</span>
<span>  nstart <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  nmax <span class="op">=</span> <span class="fl">100</span> <span class="op">*</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">algorithms</span><span class="op">)</span>,</span>
<span>  force.balanced <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  ncpus <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  boot.R <span class="op">=</span> <span class="fl">499</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save.partial.results <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  load.partial.results <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  save.final.result <span class="op">=</span> <span class="cn">NA</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>instances</dt>
<dd><p>list object containing the definitions of the
<em>available</em> instances. This list may (or may not) be exhausted in the
experiment. To estimate the number of required instances,
see <code><a href="calc_instances.html">calc_instances()</a></code>. For more details, see Section <code>Instance List</code>.</p></dd>


<dt>algorithms</dt>
<dd><p>a list object containing the definitions of all algorithms.
See Section <code>Algorithms</code> for details.</p></dd>


<dt>d</dt>
<dd><p>minimally relevant effect size (MRES), expressed as a standardized
effect size, i.e., "deviation from H0" / "standard deviation".
See <code><a href="calc_instances.html">calc_instances()</a></code> for details.</p></dd>


<dt>se.max</dt>
<dd><p>desired upper limit for the standard error of the estimated
difference between pairs of algorithms. See Section
<code>Pairwise Differences</code> for details.</p></dd>


<dt>power</dt>
<dd><p>(desired) test power. See <code><a href="calc_instances.html">calc_instances()</a></code> for details.
Any value equal to or greater than one will force the method to use all
available instances in <code>Instance.list</code>.</p></dd>


<dt>sig.level</dt>
<dd><p>family-wise significance level (alpha) for the experiment.
See <code><a href="calc_instances.html">calc_instances()</a></code> for details.</p></dd>


<dt>power.target</dt>
<dd><p>which comparison should have the desired <code>power</code>?
Accepts "mean", "median", or "worst.case" (this last one
is equivalent to the Bonferroni correction).</p></dd>


<dt>dif</dt>
<dd><p>type of difference to be used. Accepts "perc" (for percent
differences) or "simple" (for simple differences)</p></dd>


<dt>comparisons</dt>
<dd><p>type of comparisons being performed. Accepts "all.vs.first"
(in which cases the first object in <code>algorithms</code> is considered to be
the reference algorithm) or "all.vs.all" (if there is no reference
and all pairwise comparisons are desired).</p></dd>


<dt>alternative</dt>
<dd><p>type of alternative hypothesis ("two.sided" or
"less" or "greater"). See <code><a href="calc_instances.html">calc_instances()</a></code> for details.</p></dd>


<dt>test</dt>
<dd><p>type of test to be used
("t.test", "wilcoxon" or "binomial")</p></dd>


<dt>method</dt>
<dd><p>method to use for estimating the standard errors. Accepts
"param" (for parametric) or "boot" (for bootstrap)</p></dd>


<dt>nstart</dt>
<dd><p>initial number of algorithm runs for each algorithm.
See Section <code>Initial Number of Observations</code> for details.</p></dd>


<dt>nmax</dt>
<dd><p>maximum number of runs to execute on each instance (see
<code><a href="calc_nreps.html">calc_nreps()</a></code>). Loaded results (see <code>load.partial.results</code>
below) do not count towards this maximum.</p></dd>


<dt>force.balanced</dt>
<dd><p>logical flag to force the use of balanced sampling for
the algorithms on each instance</p></dd>


<dt>ncpus</dt>
<dd><p>number of cores to use</p></dd>


<dt>boot.R</dt>
<dd><p>number of bootstrap resamples to use (if <code>method == "boot"</code>)</p></dd>


<dt>seed</dt>
<dd><p>seed for the random number generator</p></dd>


<dt>save.partial.results</dt>
<dd><p>should partial results be saved to files? Can be
either <code>NA</code> (do not save) or a character string
pointing to a folder. File names are generated
based on the instance aliases. <strong>Existing files with
matching names will be overwritten.</strong>
<code>run_experiment()</code> uses <strong>.RDS</strong> files for saving
and loading.</p></dd>


<dt>load.partial.results</dt>
<dd><p>should partial results be loaded from files? Can
be either <code>NA</code> (do not save) or a character
string pointing to a folder containing the
file(s) to be loaded. <code>run_experiment()</code> will
use .RDS file(s) with a name(s) matching instance
<code>alias</code>es. <code>run_experiment()</code> uses <strong>.RDS</strong> files
for saving and loading.</p></dd>


<dt>save.final.result</dt>
<dd><p>should the final results be saved to file? Can be
either <code>NA</code> (do not save) or a character string
pointing to a folder where the results will be
saved on a <strong>.RDS</strong> file starting with
<code>CAISEr_results_</code> and ending with 12-digit
datetime tag in the format <code>YYYYMMDDhhmmss</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a list object containing the following fields:</p><ul><li><p><code>Configuration</code> - the full input configuration (for reproducibility)</p></li>
<li><p><code>data.raw</code> - data frame containing all observations generated</p></li>
<li><p><code>data.summary</code> - data frame summarizing the experiment.</p></li>
<li><p><code>N</code> - number of instances sampled</p></li>
<li><p><code>N.star</code> - number of instances required</p></li>
<li><p><code>total.runs</code> - total number of algorithm runs performed</p></li>
<li><p><code>instances.sampled</code> - names of the instances sampled</p></li>
<li><p><code>Underpowered</code> - flag: TRUE if N &lt; N.star</p></li>
</ul></div>
    <div id="instance-list">
    <h2>Instance List</h2>
    

<p>Parameter <code>instances</code> must contain a list of instance objects, where
each field is itself a list, as defined in the documentation of function
<code><a href="calc_nreps.html">calc_nreps()</a></code>. In short, each element of <code>instances</code> is an <code>instance</code>, i.e.,
a named list containing all relevant parameters that define the problem
instance. This list must contain at least the field <code>instance$FUN</code>, with the
name of the problem instance function, that is, a routine that calculates
y = f(x). If the instance requires additional parameters, these must also be
provided as named fields.
An additional field, "instance$alias", can be used to provide the instance
with a unique identifier (e.g., when using an instance generator).</p>
    </div>
    <div id="algorithm-list">
    <h2>Algorithm List</h2>
    

<p>Object <code>algorithms</code> is a list in which each component is a named
list containing all relevant parameters that define an algorithm to be
applied for solving the problem instance. In what follows <code>algorithms[[k]]</code>
refers to any algorithm specified in the <code>algorithms</code> list.</p>
<p><code>algorithms[[k]]</code> must contain an <code>algorithms[[k]]$FUN</code> field, which is a
character object with the name of the function that calls the algorithm; as
well as any other elements/parameters that <code>algorithms[[k]]$FUN</code> requires
(e.g., stop criteria, operator names and parameters, etc.).</p>
<p>The function defined by the routine <code>algorithms[[k]]$FUN</code> must have the
following structure: supposing that the list in <code>algorithms[[k]]</code> has
fields <code>algorithm[[k]]$FUN = "myalgo"</code>, <code>algorithms[[k]]$par1 = "a"</code> and
<code>algorithms[[k]]$par2 = 5</code>, then:</p>
<div class="sourceCode"><pre><code><span></span>
<span>         <span class="va">myalgo</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">par1</span>, <span class="va">par2</span>, <span class="va">instance</span>, <span class="va">...</span><span class="op">)</span><span class="op">{</span></span>
<span>               <span class="co">#</span></span>
<span>               <span class="co"># &lt;do stuff&gt;</span></span>
<span>               <span class="co">#</span></span>
<span>               <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">results</span><span class="op">)</span></span>
<span>         <span class="op">}</span></span>
<span>   </span></code></pre></div>

<p>That is, it must be able to run if called as:</p>
<div class="sourceCode"><pre><code><span></span>
<span>         <span class="co"># remove '$FUN' and '$alias' field from list of arguments</span></span>
<span>         <span class="co"># and include the problem definition as field 'instance'</span></span>
<span>         <span class="va">myargs</span>          <span class="op">&lt;-</span> <span class="va">algorithm</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">algorithm</span><span class="op">)</span> <span class="op">!=</span> <span class="st">"FUN"</span><span class="op">]</span></span>
<span>         <span class="va">myargs</span>          <span class="op">&lt;-</span> <span class="va">myargs</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">myargs</span><span class="op">)</span> <span class="op">!=</span> <span class="st">"alias"</span><span class="op">]</span></span>
<span>         <span class="va">myargs</span><span class="op">$</span><span class="va">instance</span> <span class="op">&lt;-</span> <span class="va">instance</span></span>
<span></span>
<span>         <span class="co"># call function</span></span>
<span>         <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">algorithm</span><span class="op">$</span><span class="va">FUN</span>,</span>
<span>                 args <span class="op">=</span> <span class="va">myargs</span><span class="op">)</span></span>
<span>   </span></code></pre></div>

<p>The <code>algorithm$FUN</code> routine must return a list containing (at
least) the performance value of the final solution obtained, in a field named
<code>value</code> (e.g., <code>result$value</code>) after a given run. In general it is easier to
write a small wrapper function around existing implementations.</p>
    </div>
    <div id="initial-number-of-observations">
    <h2>Initial Number of Observations</h2>
    

<p>In the <em>general case</em> the initial number of observations / algorithm /
instance (<code>nstart</code>) should be relatively high. For the parametric case
we recommend 10~15 if outliers are not expected, and 30~40 (at least) if that
assumption cannot be made. For the bootstrap approach we recommend using at
least 15 or 20. However, if some distributional assumptions can be
made - particularly low skewness of the population of algorithm results on
the test instances), then <code>nstart</code> can in principle be as small as 5 (if the
output of the algorithm were known to be normal, it could be 1).</p>
<p>In general, higher sample sizes are the price to pay for abandoning
distributional assumptions. Use lower values of <code>nstart</code> with caution.</p>
    </div>
    <div id="pairwise-differences">
    <h2>Pairwise Differences</h2>
    

<p>Parameter <code>dif</code> informs the type of difference in performance to be used
for the estimation (\(\mu_a\) and \(\mu_b\) represent the mean
performance of any two algorithms on the test instance, and \(mu\)
represents the grand mean of all algorithms given in <code>algorithms</code>):</p><ul><li><p>If <code>dif == "perc"</code> and <code>comparisons == "all.vs.first"</code>, the estimated
quantity is:
\(\phi_{1b} = (\mu_1 - \mu_b) / \mu_1 = 1 - (\mu_b / \mu_1)\).</p></li>
<li><p>If <code>dif == "perc"</code> and <code>comparisons == "all.vs.all"</code>, the estimated
quantity is:
\(\phi_{ab} = (\mu_a - \mu_b) / \mu\).</p></li>
<li><p>If <code>dif == "simple"</code> it estimates \(\mu_a - \mu_b\).</p></li>
</ul></div>
    <div id="sample-sizes-for-nonparametric-methods">
    <h2>Sample Sizes for Nonparametric Methods</h2>
    

<p>If the parameter `` is set to either <code>Wilcoxon</code> or `Binomial`, this
routine approximates the number of instances using the ARE of these tests
in relation to the paired t.test:</p><ul><li><p><code>n.wilcox = n.ttest / 0.86 = 1.163 * n.ttest</code></p></li>
<li><p><code>n.binom = n.ttest / 0.637 = 1.570 * n.ttest</code></p></li>
</ul></div>
    <div id="references">
    <h2>References</h2>
    
<ul><li><p>F. Campelo, F. Takahashi:
Sample size estimation for power and accuracy in the experimental
comparison of algorithms. Journal of Heuristics 25(2):305-338, 2019.</p></li>
<li><p>P. Mathews.
Sample size calculations: Practical methods for engineers and scientists.
Mathews Malnar and Bailey, 2010.</p></li>
<li><p>A.C. Davison, D.V. Hinkley:
Bootstrap methods and their application. Cambridge University Press (1997)</p></li>
<li><p>E.C. Fieller:
Some problems in interval estimation. Journal of the Royal Statistical
Society. Series B (Methodological) 16(2), 175–185 (1954)</p></li>
<li><p>V. Franz:
Ratios: A short guide to confidence limits and proper use (2007).
https://arxiv.org/pdf/0710.2024v1.pdf</p></li>
<li><p>D.C. Montgomery, C.G. Runger:
Applied Statistics and Probability for Engineers, 6th ed. Wiley (2013)</p></li>
<li><p>D.J. Sheskin:
Handbook of Parametric and Nonparametric Statistical Procedures,
4th ed., Chapman &amp; Hall/CRC, 1996.</p></li>
</ul></div>
    <div id="author">
    <h2>Author</h2>
    <p>Felipe Campelo (<a href="mailto:fcampelo@ufmg.br">fcampelo@ufmg.br</a>,
<a href="mailto:f.campelo@aston.ac.uk">f.campelo@aston.ac.uk</a>)</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Example using four dummy algorithms and 100 dummy instances.</span></span></span>
<span class="r-in"><span><span class="co"># See [dummyalgo()] and [dummyinstance()] for details.</span></span></span>
<span class="r-in"><span><span class="co"># Generating 4 dummy algorithms here, with means 15, 10, 30, 15 and standard</span></span></span>
<span class="r-in"><span><span class="co"># deviations 2, 4, 6, 8.</span></span></span>
<span class="r-in"><span><span class="va">algorithms</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/mapply.html" class="external-link">mapply</a></span><span class="op">(</span>FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">i</span>, <span class="va">m</span>, <span class="va">s</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>FUN   <span class="op">=</span> <span class="st">"dummyalgo"</span>,</span></span>
<span class="r-in"><span>       alias <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"algo"</span>, <span class="va">i</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>       distribution.fun  <span class="op">=</span> <span class="st">"rnorm"</span>,</span></span>
<span class="r-in"><span>       distribution.pars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="va">m</span>, sd <span class="op">=</span> <span class="va">s</span><span class="op">)</span><span class="op">)</span><span class="op">}</span>,</span></span>
<span class="r-in"><span>  i <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span>alg1 <span class="op">=</span> <span class="fl">1</span>, alg2 <span class="op">=</span> <span class="fl">2</span>, alg3 <span class="op">=</span> <span class="fl">3</span>, alg4 <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  m <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">15</span>, <span class="fl">10</span>, <span class="fl">30</span>, <span class="fl">15</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  s <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">4</span>, <span class="fl">6</span>, <span class="fl">8</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  SIMPLIFY <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate 100 dummy instances with centered exponential distributions</span></span></span>
<span class="r-in"><span><span class="va">instances</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span>,</span></span>
<span class="r-in"><span>                    <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="op">{</span><span class="va">rate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span>                                 <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>FUN   <span class="op">=</span> <span class="st">"dummyinstance"</span>,</span></span>
<span class="r-in"><span>                                      alias <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"Inst."</span>, <span class="va">i</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                      distr <span class="op">=</span> <span class="st">"rexp"</span>, rate <span class="op">=</span> <span class="va">rate</span>,</span></span>
<span class="r-in"><span>                                      bias  <span class="op">=</span> <span class="op">-</span><span class="fl">1</span> <span class="op">/</span> <span class="va">rate</span><span class="op">)</span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">my.results</span> <span class="op">&lt;-</span> <span class="fu">run_experiment</span><span class="op">(</span><span class="va">instances</span>, <span class="va">algorithms</span>,</span></span>
<span class="r-in"><span>                             d <span class="op">=</span> <span class="fl">.5</span>, se.max <span class="op">=</span> <span class="fl">.1</span>,</span></span>
<span class="r-in"><span>                             power <span class="op">=</span> <span class="fl">.9</span>, sig.level <span class="op">=</span> <span class="fl">.05</span>,</span></span>
<span class="r-in"><span>                             power.target <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>                             dif <span class="op">=</span> <span class="st">"perc"</span>, comparisons <span class="op">=</span> <span class="st">"all.vs.all"</span>,</span></span>
<span class="r-in"><span>                             ncpus <span class="op">=</span> <span class="fl">1</span>, seed <span class="op">=</span> <span class="fl">1234</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CAISEr running</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Required number of instances: 58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Available number of instances: 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Using 1 cores.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> -----------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.28 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.80 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.22 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.9 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.5 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.38 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.16 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.4 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.86 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.90 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.70 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.79 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.78 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.14 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.56 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.62 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.93 : ..</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.84 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.21 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.40 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.92 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.67 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.96 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.66 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.47 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.81 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.48 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.3 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.41 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.32 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.42 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.43 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.2 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.54 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.49 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.99 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.51 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.6 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.77 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.29 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.71 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.85 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.57 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.8 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.26 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.17 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.58 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.91 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.60 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.76 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.98 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.35 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.72 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.94 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.73 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.50 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.10 : .</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Sampling algorithms on instance Inst.45 : .</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Take a look at the results</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">my.results</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #====================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  CAISEr object:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Number of instances sampled: 58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Number of instances required: 58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Adequate power: TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Total runs of algo1 : 1160</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Total runs of algo2 : 1177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Total runs of algo3 : 1381</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Total runs of algo4 : 1990</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #====================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Pairwise comparisons of interest:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Test: t.test</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  H1: two.sided</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Comparisons: all.vs.all</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Alpha (FWER): 0.05</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Power target: mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Desired power: 0.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #====================================</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Tests using Holm's step-down procedure:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Test 1 : algo1 x algo3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  H0: mean = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  alpha		= 0.008333 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  p-value	= 2.512e-68</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Est. mean	= -0.8848</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  CI{1-alpha}	= [ -0.9065 -0.863 ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  d		= -14.58974</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Test 2 : algo3 x algo4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  H0: mean = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  alpha		= 0.01 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  p-value	= 1.445e-62</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Est. mean	= 0.9104</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  CI{1-alpha}	= [ 0.8828 0.938 ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  d		= 11.54558</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Test 3 : algo2 x algo3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  H0: mean = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  alpha		= 0.0125 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  p-value	= 5.682e-58</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Est. mean	= -1.149</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  CI{1-alpha}	= [ -1.19 -1.109 ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  d		= -9.574107</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Test 4 : algo2 x algo4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  H0: mean = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  alpha		= 0.01667 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  p-value	= 1.58e-43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Est. mean	= -0.2389</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  CI{1-alpha}	= [ -0.2536 -0.2242 ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  d		= -5.279244</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Test 5 : algo1 x algo2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  H0: mean = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  alpha		= 0.025 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  p-value	= 2.828e-35</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Est. mean	= 0.2645</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  CI{1-alpha}	= [ 0.243 0.286 ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  d		= 3.719929</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Test 6 : algo1 x algo4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  H0: mean = 0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  alpha		= 0.05 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  p-value	= 1.68e-07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Est. mean	= 0.02564</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  CI{1-alpha}	= [ 0.01702 0.03425 ]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  d		= 0.782428</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #====================================</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">my.results</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="run_experiment-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Felipe Campelo.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

